FROM registry.suse.com/bci/bci-base:15.4
MAINTAINER support@neuvector.com

COPY stage /

ENV LANG=C.UTF-8 \
	PYTHONUNBUFFERED=1

RUN zypper in -y python310 python310-pip python310-setuptools && \
    ln -sf /usr/bin/python3.10 /usr/bin/python && \
    python -m pip install --no-cache-dir -r /requirements.txt

RUN zypper in -y iproute2 lsof procps java-11-openjdk-headless && \
   rm -rf /tmp/* /requirements.txt
